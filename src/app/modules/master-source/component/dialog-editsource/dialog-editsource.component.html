<form style="padding-top: 5%;" [formGroup]="editSourceForm" (ngSubmit)="onSubmit()">
        <fieldset class="border p-2">
            <legend class="w-auto">ข้อมูลพื้นฐาน</legend>
            <div class="row">
                <div class="col-3 text-right mt-1">
                    <p>ชื่อแหล่งข้อมูล :</p>
                </div>
                <div class="col-9">
                    <p style="margin-top: 4px;">{{editSourceForm.value.sourceName}}</p>
                    <!-- <input type="text" class="form-control" placeholder="" formControlName="sourceName" [ngClass]="{'is-invalid': submitted && f.sourceName.errors}">
                    <div *ngIf="submitted && f.sourceName.errors" class="invalid-feedback">
                        <div *ngIf="f.sourceName.errors.required" class="text-danger help-block">
                            กรุณากรอกชื่อแหล่งข้อมูล
                        </div>
                    </div> -->
                </div>
                <div class="col-3 text-right mt-1">
                    <p>เลขประจำตัวผู้เสียภาษี :</p>
                </div>
                <div class="col-9">
                    <!-- <input type="text" class="form-control" placeholder="" formControlName="sourceTaxNo" [ngClass]="{'is-invalid': submitted && f.sourceTaxNo.errors}">
                    <div *ngIf="submitted && f.sourceTaxNo.errors" class="invalid-feedback">
                        <div *ngIf="f.sourceTaxNo.errors.required" class="text-danger help-block">
                            กรุณากรอกหมายเลขประจำตัวผู้เสียภาษี
                        </div>
                    </div> -->

                    <p style="margin-top: 4px;">{{editSourceForm.value.sourceTaxNo}}</p>
                </div>
                <div class="col-3 text-right mt-1">
                    <p>ที่อยู่ :</p>
                </div>
                <div class="col-9">
                    <!-- <textarea type="text" rows="5" class="form-control" placeholder="" formControlName="address" [ngClass]="{'is-invalid': submitted && f.address.errors}"></textarea>
                    <div *ngIf="submitted && f.address.errors" class="invalid-feedback">
                        <div *ngIf="f.address.errors.required" class="text-danger help-block">
                            กรุณากรอกข้อมูลที่อยู่
                        </div>
                    </div> -->

                    <p style="margin-top: 4px;">{{editSourceForm.value.address}}</p>
                </div>
            </div>
        </fieldset>


        <fieldset class="border p-3 mt-3">
            <legend class="w-auto">บุคคลที่สามารถติดต่อ</legend>
            <div formArrayName="contact" *ngFor="let creds of contactForms.controls; let i = index">
                <div class="row">
                    <ng-container [formGroupName]="i">
                        <div class="col mb-2">
                            <div class="text-left ml-2" *ngIf="i === 0">
                                <p>ชื่อผู้ติดต่อ :</p>
                            </div>
                            <div class="col">
                                <!-- <input type="text" class="form-control" placeholder="" formControlName="surveyContactName" [ngClass]="{'is-invalid': submitted && contactForms.controls[i].get('surveyContactName').errors}">
                                <div *ngIf="submitted && contactForms.controls[i].get('surveyContactName').errors" class="invalid-feedback">
                                    <div *ngIf="contactForms.controls[i].get('surveyContactName').errors?.required  || contactForms.controls[i].get('surveyContactName').errors.whitespace" class="text-danger help-block">
                                        กรุณากรอกชื่อบุคคลที่สามารถติดต่อ
                                    </div>
                                </div> -->

                                <p>{{editSourceForm.value.contact[i].surveyContactName}}</p>
                            </div>
                        </div>
                        <div class="col mb-2">
                            <div class="text-left ml-2" *ngIf="i === 0">
                                <p>เบอร์โทรศัพท์ :</p>
                            </div>
                            <div class="col">
                                <p>{{editSourceForm.value.contact[i].surveyContactPhone}}</p>
                                
<!-- 
                                <input type="text" class="form-control" placeholder="" formControlName="surveyContactPhone" [ngClass]="{'is-invalid': submitted && contactForms.controls[i].get('surveyContactPhone').errors}">
                                <div *ngIf="submitted && contactForms.controls[i].get('surveyContactPhone').errors" class="invalid-feedback">
                                    <div *ngIf="contactForms.controls[i].get('surveyContactPhone').errors.required || contactForms.controls[i].get('surveyContactPhone').errors.whitespace" class="text-danger help-block">
                                        กรุณากรอกเบอร์โทรศัพท์
                                    </div>
                                </div> -->

                            </div>
                        </div>
                        <div class="col mb-2">
                            <div class="text-left ml-2" *ngIf="i === 0">
                                <p>Fax :</p>
                            </div>
                            
                            <div class="col">
                                <p>{{editSourceForm.value.contact[i].surveyContactFaxNo}}</p>
                                <!-- <input type="text" class="form-control" placeholder="" formControlName="surveyContactFaxNo"> -->
                            </div>
                        </div>
                        <div class="col mb-2">
                            <div class="text-left ml-2" *ngIf="i === 0">
                                <p>เบอร์มือถือ :</p>
                            </div>
                            
                            <div class="col">
                                <!-- <input type="text" class="form-control" placeholder="" formControlName="surveyContactMobileNo" pattern="[0-9]*" [ngClass]="{'is-invalid': submitted && contactForms.controls[i].get('surveyContactMobileNo').errors}">
                                <div *ngIf="submitted && contactForms.controls[i].get('surveyContactMobileNo').errors" class="invalid-feedback">
                                    <div *ngIf="contactForms.controls[i].get('surveyContactMobileNo').errors.pattern" class="text-danger help-block">
                                        กรุณากรอกเป็นตัวเลข
                                    </div>
                                </div> -->

                                <p>{{editSourceForm.value.contact[i].surveyContactMobileNo}}</p>
                            </div>
                        </div>
                        <div class="col mb-2">
                            <div class="text-left ml-2" *ngIf="i === 0">
                                <p>Email :</p>
                            </div>
                            <div class="col">
                                <!-- <input type="text" class="form-control" placeholder="" pattern="^(.+)@(.+)$|^\s*$" formControlName="surveyContactEmail" [ngClass]="{'is-invalid': submitted && contactForms.controls[i].get('surveyContactEmail').errors}">
                                <div *ngIf="submitted && contactForms.controls[i].get('surveyContactEmail').errors" class="invalid-feedback">
                                    <div *ngIf="contactForms.controls[i].get('surveyContactEmail').errors.pattern" class="text-danger help-block">
                                        กรุณากรอกอีเมล์ให้ถูกต้อง
                                    </div>
                                </div> -->

                                <p>{{editSourceForm.value.contact[i].surveyContactEmail}}</p>
                            </div>
                        </div>
                        <!-- <div class="col-1 mb-2" *ngIf="i == 0">
                            <div class="col mt-5" style="align-self:center;">
                                <a (click)="addContact()">
                                    <mat-icon style="font-size: 35px; color: #20c997; margin-top: auto; margin-bottom: auto;">group_add</mat-icon>
                                </a>
                            </div>
                        </div> -->
                        <div class="col-1 mb-2" *ngIf="i > 0">
                            <div class="col mt-1" style="align-self:center;">
                                <a (click)="removeGroup(i)">
                                    <mat-icon style="font-size: 35px; color: red; margin-top: auto; margin-bottom: auto;">delete_forever</mat-icon>
                                </a>
                            </div>
                        </div>
                    </ng-container>
                </div>
            </div>
        </fieldset>
    <!-- <div mat-dialog-actions class="row mt-3 mr-2 float-right" style="padding-left: 1%;">
        <button type="submit" mat-raised-button color="primary">บันทึก</button>
    </div> -->
</form>
<swal #saveSourceSwal title="คุณต้องการเปลี่ยนแปลง ใช่หรือไม่?" [allowOutsideClick]="false" 
[confirmButtonText]="'ตกลง'" [cancelButtonText]="'ยกเลิก'"
[showCancelButton]="true" text="" type="info" (confirm)="editSource()"></swal>
<swal #sucessSourceSwal title="บันทึกข้อมูลสำเร็จ" [confirmButtonText]="'ตกลง'" [allowOutsideClick]="false" text="" type="info"></swal>
<swal #errorSourceSwal title="" [confirmButtonText]="'ตกลง'" [allowOutsideClick]="false" text="" type="error"></swal>